<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ - ì¶œì…êµ­ ë°˜ë ¤ ê´€ë¦¬</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Noto Sans KR -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #aab2bd; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #8892a1; }
        .submenu { display: none; overflow: hidden; transition: max-height 0.3s ease-in-out; max-height: 0; }
        .submenu.open { display: block; max-height: 500px; }
        .modal-backdrop { transition: opacity 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="flex h-screen">
        <!-- Sidebar -->
    

        <!-- Main Content -->
        <main class="flex-1 overflow-auto p-6 sm:p-8">
            <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
                <h2 class="text-2xl font-bold">ì¶œì…êµ­ ë°˜ë ¤ ê´€ë¦¬</h2>
                <button id="open-new-rejection-modal" class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 border rounded-md hover:bg-indigo-700">ìƒˆ ë°˜ë ¤ ì‚¬í•­ ë“±ë¡</button>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="border rounded-md p-4 mb-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        <input type="text" placeholder="í•™ìƒ ì •ë³´ ê²€ìƒ‰" class="col-span-full w-full px-3 py-2 border border-slate-300 rounded-md">
                        <select class="rounded-md border-slate-300 shadow-sm text-sm"><option>ëŒ€í•™êµ ì „ì²´</option></select>
                        <select class="rounded-md border-slate-300 shadow-sm text-sm"><option>ë¶€ì²˜ ì „ì²´</option></select>
                        <select class="rounded-md border-slate-300 shadow-sm text-sm"><option>ìƒíƒœ ì „ì²´</option><option>ëŒ€ê¸°ì¤‘</option><option>í•´ê²°ì™„ë£Œ</option></select>
                    </div>
                </div>
                <div class="flex justify-end mb-4">
                    <button class="px-4 py-2 text-sm font-medium text-white bg-green-600 border rounded-md hover:bg-green-700">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-slate-500">
                        <thead class="text-xs text-slate-700 uppercase bg-slate-50">
                            <tr>
                                <th class="p-4">AccountId</th>
                                <th class="p-4">ì´ë¦„</th>
                                <th class="p-4">ì´ë©”ì¼</th>
                                <th class="p-4">ëŒ€í•™êµ</th>
                                <th class="p-4">ë¶€ì²˜</th>
                                <th class="p-4">ì‚¬ì¦ íƒ€ì…</th>
                                <th class="p-4">ê´€ë ¨ ì„œë¥˜</th>
                                <th class="p-4">ë°˜ë ¤ ìœ í˜•</th>
                                <th class="p-4">ë°˜ë ¤ ì‚¬ìœ </th>
                                <th class="p-4">ë“±ë¡ì¼</th>
                                <th class="p-4">ë§ˆê°ì¼</th>
                                <th class="p-4">ìƒíƒœ</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr>
                                <td class="p-4"><a href="user-detail.html?id=usr001" class="font-medium text-indigo-600 hover:underline">usr001</a></td>
                                <td class="p-4">ê¹€ë¯¼ìˆ˜</td>
                                <td class="p-4">kim@example.com</td>
                                <td class="p-4">ì„œìš¸ëŒ€í•™êµ</td>
                                <td class="p-4">êµ­ì œí˜‘ë ¥ë³¸ë¶€</td>
                                <td class="p-4">D-2</td>
                                <td class="p-4">
                                    <div class="flex flex-wrap gap-1">
                                        <span class="px-2 py-0.5 text-xs bg-slate-100 rounded-full">ì—¬ê¶Œ</span>
                                        <span class="px-2 py-0.5 text-xs bg-slate-100 rounded-full">ì‚¬ì¦</span>
                                    </div>
                                </td>
                                <td class="p-4">ì„œë¥˜ ë¶ˆì¼ì¹˜</td>
                                <td class="p-4 text-xs">ì—¬ê¶Œê³¼ ì‚¬ì¦ì˜ ê°œì¸ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</td>
                                <td class="p-4">2024-07-08</td>
                                <td class="p-4">2024-07-15</td>
                                <td class="p-4"><span class="px-2 py-1 text-xs font-semibold text-orange-800 bg-orange-100 rounded-full">ëŒ€ê¸°ì¤‘</span></td>
                            </tr>
                            <tr>
                                <td class="p-4"><a href="user-detail.html?id=usr002" class="font-medium text-indigo-600 hover:underline">usr002</a></td>
                                <td class="p-4">ë°•ì˜í¬</td>
                                <td class="p-4">park@example.com</td>
                                <td class="p-4">ê³ ë ¤ëŒ€í•™êµ</td>
                                <td class="p-4">êµ­ì œì²˜</td>
                                <td class="p-4">D-4</td>
                                <td class="p-4">
                                    <span class="px-2 py-0.5 text-xs bg-slate-100 rounded-full">ê±°ì£¼ì§€ ì„œë¥˜</span>
                                </td>
                                <td class="p-4">ì„œë¥˜ ë¯¸ë¹„</td>
                                <td class="p-4 text-xs">ì„ëŒ€ì°¨ ê³„ì•½ì„œì™€ ì„ëŒ€ì¸ ì‹ ë¶„ì¦ì„ ì¶”ê°€ë¡œ ì œì¶œí•´ì£¼ì„¸ìš”.</td>
                                <td class="p-4">2024-07-07</td>
                                <td class="p-4">2024-07-14</td>
                                <td class="p-4"><span class="px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full">í•´ê²°ì™„ë£Œ</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    
    <!-- New Rejection Modal -->
    <div id="new-rejection-modal" class="fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50 hidden modal-backdrop">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-xl font-bold">ìƒˆ ë°˜ë ¤ ì‚¬í•­ ë“±ë¡</h3>
                <button data-close-modal="new-rejection-modal" class="text-slate-400 hover:text-slate-600 text-2xl">&times;</button>
            </div>
            <div class="p-6 flex-1 overflow-y-auto">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Step 1: Select Student -->
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-4">1. í•™ìƒ ì„ íƒ</h3>
                        <input type="text" placeholder="í•™ìƒ ì´ë¦„, ì´ë©”ì¼, í•™ë²ˆ ë“±ìœ¼ë¡œ ê²€ìƒ‰" class="w-full p-2 border rounded-md mb-4">
                        <div id="student-list-modal" class="space-y-2 max-h-96 overflow-y-auto border rounded-md p-2 bg-white">
                            <!-- Student items will be populated by JS -->
                        </div>
                    </div>
                    <!-- Step 2: Select Documents -->
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">2. ê´€ë ¨ ì„œë¥˜ ì„ íƒ</h3>
                        <p class="text-sm text-slate-500 mb-4">ë°˜ë ¤ì™€ ê´€ë ¨ëœ ì„œë¥˜ë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì—¬ê¶Œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ê±°ì£¼ì§€ ì„œë¥˜</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì‚¬ì¦</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì¬í•™ì¦ëª…ì„œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ë“±ë¡ê¸ˆ ë‚©ì… ì¦ëª…ì„œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì¦ëª…ì‚¬ì§„</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì„œëª…</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì¥í•™ì¦ëª…ì„œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ì˜ˆì¹˜í™•ì¸ì„œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ê±´ê°•ì§„ë‹¨ì„œ</span></label>
                            <label class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded"> <span class="ml-2">ê¸°íƒ€</span></label>
                        </div>
                    </div>
                    <!-- Step 3: Rejection Reason -->
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h3 class="text-lg font-bold mb-4">3. ë°˜ë ¤ ì‚¬ìœ  ì…ë ¥</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="font-semibold block mb-1 text-sm">ë°˜ë ¤ ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”</label>
                                <select class="w-full p-2 border rounded-md"><option>ì„œë¥˜ ì‹ë³„ ë¶ˆê°€</option><option>ì •ë³´ ë¶ˆì¼ì¹˜</option><option>ìœ íš¨ê¸°ê°„ ë§Œë£Œ</option><option>ê¸°íƒ€</option></select>
                            </div>
                            <div>
                                <textarea placeholder="ë°˜ë ¤ ì‚¬ìœ ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”." class="w-full p-2 border rounded-md" rows="5"></textarea>
                            </div>
                            <div class="p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 text-sm">
                                ğŸ’¡ ì…ë ¥í•˜ì‹  ë‚´ìš©ì€ í•™ìƒì—ê²Œ ì´ë©”ì¼ê³¼ ì‹œìŠ¤í…œ ì•Œë¦¼ìœ¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤. ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ ì•ˆë‚´ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t flex justify-end gap-2 bg-slate-50 rounded-b-lg">
                <button data-close-modal="new-rejection-modal" class="px-4 py-2 bg-slate-200 rounded-md">ì·¨ì†Œ</button>
                <button class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700">ë°˜ë ¤ ì‚¬í•­ ì „ì†¡</button>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Navigation Logic ---
            const navAccordions = document.querySelectorAll('.nav-accordion');
            navAccordions.forEach(accordion => { /* ... existing code ... */ });

            // --- Modal Logic ---
            const newRejectionModal = document.getElementById('new-rejection-modal');
            document.getElementById('open-new-rejection-modal').addEventListener('click', () => {
                newRejectionModal.classList.remove('hidden');
            });
            document.addEventListener('click', (e) => {
                if (e.target.dataset.closeModal) {
                    document.getElementById(e.target.dataset.closeModal).classList.add('hidden');
                }
                if (e.target === newRejectionModal) {
                    newRejectionModal.classList.add('hidden');
                }
            });

            // --- Student Selection Logic ---
            const mockStudents = [
                { id: 'usr001', name: 'ê¹€ë¯¼ìˆ˜', email: 'kim@example.com', university: 'ì„œìš¸ëŒ€í•™êµ', department: 'êµ­ì œí˜‘ë ¥ë³¸ë¶€', studentId: '2023001', visaType: 'D-2' },
                { id: 'usr002', name: 'ë°•ì˜í¬', email: 'park@example.com', university: 'ê³ ë ¤ëŒ€í•™êµ', department: 'êµ­ì œì²˜', studentId: '2023002', visaType: 'D-4' },
                { id: 'usr003', name: 'ì´ì² í˜¸', email: 'lee@example.com', university: 'ì—°ì„¸ëŒ€í•™êµ', department: 'êµ­ì œêµë¥˜íŒ€', studentId: '2023003', visaType: 'D-2' },
                { id: 'usr004', name: 'ì •ìˆ˜ì§„', email: 'jung@example.com', university: 'í•œì–‘ëŒ€í•™êµ', department: 'êµ­ì œí•™ìƒíŒ€', studentId: '2023004', visaType: 'D-2' },
                { id: 'usr005', name: 'ìµœë¯¼ì§€', email: 'choi@example.com', university: 'ì´í™”ì—¬ëŒ€', department: 'êµ­ì œí•™ìƒì²˜', studentId: '2023005', visaType: 'D-4' },
            ];

            const studentListContainer = document.getElementById('student-list-modal');
            let selectedStudentId = null;

            function renderStudentList() {
                studentListContainer.innerHTML = '';
                mockStudents.forEach(student => {
                    const isSelected = student.id === selectedStudentId;
                    const selectedClasses = isSelected ? 'bg-indigo-100 border-indigo-500' : 'border-transparent';
                    studentListContainer.innerHTML += `
                        <div data-id="${student.id}" class="student-item p-3 border-l-4 ${selectedClasses} cursor-pointer hover:bg-slate-100 rounded-r-md">
                            <div class="grid grid-cols-2 gap-x-2 text-sm">
                                <span class="font-semibold text-slate-800">${student.name}</span>
                                <a href="user-detail.html?id=${student.id}" class="text-xs text-indigo-600 hover:underline justify-self-end">${student.id}</a>
                                <span class="text-slate-500 col-span-2">${student.email}</span>
                                <span class="text-slate-500 text-xs col-span-2">${student.university} Â· ${student.department}</span>
                                <span class="text-slate-500 text-xs col-span-2">${student.visaType}</span>
                            </div>
                        </div>
                    `;
                });
            }

            studentListContainer.addEventListener('click', (e) => {
                const item = e.target.closest('.student-item');
                if (item && !e.target.matches('a')) { // Prevent selection when clicking the link
                    e.preventDefault();
                    selectedStudentId = item.dataset.id;
                    renderStudentList();
                }
            });

            renderStudentList();
        });
    </script>
</body>
</html>
